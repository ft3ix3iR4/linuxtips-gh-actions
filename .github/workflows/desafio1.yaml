name: Desafio 1

on: 
  workflow_dispatch:
    inputs:
      image:
        description: "Informe a imagem desejada:"
        required: true
        type: string

jobs:
    pull_image:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout repository
              uses: actions/checkout@v4

            - name: Login to Docker Hub
              uses: docker/login-action@v3
              with:
                username: ${{ vars.DOCKERHUB_USERNAME }}
                password: ${{ secrets.DOCKERHUB_TOKEN }}              

            - name: Pull docker image
              run: docker pull ${{ github.event.inputs.image }}

            - name: Listing images
              run: docker images
            
            - name: Docker Scout
              uses: docker/scout-action@v1
              with:
                image: ${{ github.event.inputs.image }}
                only-severities: critical,high